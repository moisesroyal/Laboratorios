{% extends 'secante_app/base.html' %}

{% block title %}Nuevo Cálculo{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-6 text-center">Ingresar Datos</h2>

<!-- Ayuda de ejemplos -->
<div class="max-w-lg mx-auto bg-yellow-100 border-l-4 border-yellow-500 text-yellow-900 p-4 mb-6 rounded">
  <p class="font-semibold mb-2">Ejemplos válidos para la función:</p>
  <ul class="list-disc list-inside text-sm">
    <li><code>cos(x) - x</code></li>
    <li><code>x**3 - x - 2</code></li>
    <li><code>exp(x) - x**2</code></li>
    <li><code>sqrt(x) - 3</code></li>
    <li><code>log(x) + sin(x)</code></li>
  </ul>
  <p class="mt-2 text-sm">Puedes usar funciones como: <code>sin</code>, <code>cos</code>, <code>exp</code>, <code>log</code>, <code>sqrt</code>, <code>abs</code>, etc. Todas son funciones de <code>numpy</code>.</p>
</div>

<!-- Formulario -->
<form method="post" class="max-w-lg mx-auto bg-white p-6 rounded shadow space-y-4">
    {% csrf_token %}

    <div>
        <label class="block mb-1 font-medium">Función:</label>
        <input type="text" name="funcion" required
               class="w-full px-4 py-2 border border-gray-300 rounded-md text-lg">
    </div>

    <div>
        <label class="block mb-1 font-medium">x0:</label>
        <input type="number" step="any" name="x0" required
               class="w-full px-4 py-2 border border-gray-300 rounded-md text-lg">
    </div>

    <div>
        <label class="block mb-1 font-medium">x1:</label>
        <input type="number" step="any" name="x1" required
               class="w-full px-4 py-2 border border-gray-300 rounded-md text-lg">
    </div>

    <div>
        <label class="block mb-1 font-medium">Tolerancia:</label>
        <input type="number" step="any" name="tolerancia" required
               class="w-full px-4 py-2 border border-gray-300 rounded-md text-lg">
    </div>

    <div>
        <label class="block mb-1 font-medium">Máx Iteraciones:</label>
        <input type="number" name="max_iteraciones" required
               class="w-full px-4 py-2 border border-gray-300 rounded-md text-lg">
    </div>

    <div>
        <button type="submit"
                class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-700 transition">
            Calcular
        </button>
    </div>
</form>
{% endblock %}
